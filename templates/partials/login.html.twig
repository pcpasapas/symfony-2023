<form method="post" action="/">
	<div class="row align-items-center mx-auto d-flex">
		{% if error %}
			<div class="alert alert-danger">
				{{ error.messageKey|trans(error.messageData, 'security') }}
			</div>
		{% endif %}

		{% if app.user %}
			{# <div class="mb-3">
				{{ app.user.userIdentifier }}
				<a href="{{ path('app_logout') }}"><button class="btn btn-primary">Se déconnecter</button></a>
			</div> #}
		{% else %}
			<div class="col-auto col-6 mx-auto">
				<label for="inputEmail">Email</label>
				<input type="email"
					value="{{ last_username }}"
					name="email"
					id="inputEmail"
					class="form-control"
					autocomplete="email"
					required/>
			</div>
			<div class="col-auto col-6 mx-auto">
				<label for="inputPassword">Mot de passe</label>
				<input type="password"
					name="password"
					id="inputPassword"
					class="form-control"
					autocomplete="current-password"
					required />
			</div>
			<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}" />

			{#
        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
        See https://symfony.com/doc/current/security/remember_me.html

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" name="_remember_me"> Remember me
            </label>
        </div>
    #}
			<div class="col-auto mx-auto">
				<button class="btn btn-lg btn-primary mt-3" type="submit">Se connecter</button>
				<a href="{{ path('app_register') }}" class="btn btn-lg btn-primary mt-3">Créer un compte</a>
			</div>
		{% endif %}
	</div>
	{% if app.user == null %}
		<div class="hr-min mx-auto my-3" id="connect"></div>
	{% endif %}
</form>

<style>
	.hr-min { border-top: 0.4em solid #37123C; border-radius: 1em; text-align: center; width: 85%; }
</style>
